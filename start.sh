#!/bin/bash

clear

# === ASCII BANNER ===
cat << "EOF"
   ===========================#@@@@@@@@#    
     ========================#@@@        @    
     ======================+@@   #@@@@@@ @=   
     ====================-+@= %@%*====@- @    
     =========-===========@- @#*======@ @@   
     ==-==================@ @++==-===*@ @    
     ======-=============+@ @*=======@- @    
     ======-=============#+ @====----@  @=   
     =======-============*+ @==---=--@  @=    
     ==================-=+@ @==-=----@. @=    
     ==================-==@ @==--=-=-#@ @=     
     ==============-======@ @===-----+@ @=     
     -=========+#@@@#*====@ @*=-======@ @@=    
     =====@@@@@%     *@@@@@  #========@- @=    
     ==+@@@     -*@@*.    - =*=-==---=*@ @@=     
     =#@# #@@@%###+::+@@@@@ @==----=-==@. @@@#=    
     =@  @@=====  -+=:    +##==-=----==*@ #  @@%=     
     +@ @#=====+**+==*@@@@%====---======@@ @@+ @%*=-     
     +@ @========---==-=====-==-=====-===@+ @@@  @#=     
     =@ @@====---================---=====+@% @%%  @-     
     =@@ @@@==-=-===========-==-=-=-===---+@- #*@ @=     
     ==@@  =#*+=-========---=====---=====-=+@ ##@ @+     
     ==@. @+. ==-========-=-=========-=---==%  *@ ##     
     ==@ @@+**+=======-==---------==-==---==+=:+@ :%     
     ==@  @+--==-=====---===-=--=-=======---====@ +%     
     ==#@ *@%===-=====-=-====-----=====---=-====@ @*     
     ===@@  @@@@*=====---================---====@ @=     
     ====#@@    -========-============---===#.#@@ @=     
     ======@: @@+=====================-=-==%@ @@ @%=     
     ======*@  @@=====-========-======---=@@ @# @@=    
     =======@@  @@@*===---==============#@@   @@@=    
     ========*@@   @*==-=-====-======+@@@  @@@@=     
     ==========%@@  =#@@@#+====+%@@@@%   @@%=    
     ============#@@@      :..:       @@@#=    
     ===============*@@@@@%***#%@@@@@@+=      
EOF

echo ""
echo "========================================"
echo ""

# === CONFIG ===
TOR_BIN="/usr/bin/tor"
TOR_PORT="9050"
TOR_LOG="tor.log"
BOT_LOG="bot.log"

# === USER INPUT ===
read -p "Enter target URL: " TARGET_URL
read -p "Enter time (seconds): " RUN_TIME

if [ -z "$TARGET_URL" ] || [ -z "$RUN_TIME" ]; then
    echo "[-] URL or time cannot be empty"
    exit 1
fi

echo ""
echo "[*] Starting Tor service..."
$TOR_BIN > "$TOR_LOG" 2>&1 &
TOR_PID=$!

sleep 6

if ! ps -p $TOR_PID > /dev/null; then
    echo "[-] Failed to start Tor"
    exit 1
fi

echo "[+] Tor is running on 127.0.0.1:$TOR_PORT"
echo ""

CMD="python3 gunslolbot.py -u $TARGET_URL --proxy 127.0.0.1:$TOR_PORT --time $RUN_TIME"

echo "[*] Command:"
echo "    $CMD"
echo ""

echo "[*] Launching bot..."

nohup bash -c "$CMD" 2>&1 | tee -a "$BOT_LOG" &

BOT_PID=$!

echo ""
echo "[+] Bot PID: $BOT_PID"
echo "[+] Bot log: $BOT_LOG"
echo "[+] Tor log: $TOR_LOG"
echo ""
echo "[âœ“] Everything is running in the background"
echo "========================================"

wait
